!function(e){const t=e.Lightpack=e.Lightpack||{};t.initTabs=function(e=document){e.querySelectorAll(".tabs-group").forEach(function(e){const t=e.querySelectorAll(".tabs .tab"),o=Array.from(e.children).filter(e=>!e.classList.contains("tabs"));t.forEach((e,n)=>{e.addEventListener("click",function(){t.forEach(e=>e.classList.remove("tab-active")),o.forEach(e=>e.setAttribute("hidden","")),e.classList.add("tab-active"),o[n].removeAttribute("hidden")})})})},t.initAccordions=function(e=document){e.querySelectorAll(".accordion").forEach(function(e){const t=e.querySelectorAll(".accordion-header"),o=e.querySelectorAll(".accordion-panel");t.forEach((e,n)=>{e.addEventListener("click",function(){const c=o[n].classList.contains("open");o.forEach(e=>e.classList.remove("open")),t.forEach(e=>e.classList.remove("open")),c||(o[n].classList.add("open"),e.classList.add("open"))})})})},t.initAlerts=function(e=document){e.addEventListener("click",function(e){if(e.target.classList.contains("alert-close")){const t=e.target.closest(".alert");t&&t.remove()}})};let o=0;t.showToast=function(e,n,c,a){const s=++o,i=a||"bottom-right",r=document.getElementById("toast-container-"+i);if(!r)return;const l=document.createElement("div");l.className="toast show"+(n?" toast-"+n:""),l.setAttribute("role","status"),l.setAttribute("data-toast-id",s),l.innerHTML=`\n      <span>${e}</span>\n      <button class="toast-close" title="Close">Ã—</button>\n    `,l.querySelector(".toast-close").onclick=function(){t.removeToast(s,i)},r.appendChild(l),c||(l._timeout=setTimeout(function(){t.removeToast(s,i)},5e3))},t.removeToast=function(e,t){const o=document.getElementById("toast-container-"+(t||"bottom-right")),n=o&&o.querySelector(`[data-toast-id='${e}']`);n&&(n.classList.remove("show"),setTimeout(()=>{n._timeout&&clearTimeout(n._timeout),n.remove()},250))},t.initModals=function(e=document){e.querySelectorAll("[data-modal-open]").forEach(function(t){const o=t.getAttribute("data-modal-open"),n=e.querySelector('.modal-backdrop[data-modal="'+o+'"]');if(!n)return;const c=n.querySelector(".modal");t.addEventListener("click",function(){n.style.display="flex",c&&c.focus(),document.body.style.overflow="hidden"})}),e.querySelectorAll(".modal-backdrop").forEach(function(e){e.querySelector(".modal");const t=e.querySelectorAll("[data-modal-close], .modal-close"),o=e.querySelectorAll("[data-modal-cancel]");function n(){e.style.display="none",document.body.style.overflow=""}t.forEach(e=>e.addEventListener("click",n)),o.forEach(e=>e.addEventListener("click",n)),e.addEventListener("click",function(t){t.target===e&&n()}),document.addEventListener("keydown",function(t){"flex"===e.style.display&&"Escape"===t.key&&n()})})},t.initPasswordToggles=function(e=document){e.querySelectorAll('input[type="password"] + .toggle-password').forEach(function(e){e.addEventListener("click",function(){const t=e.previousElementSibling;if(!t||"password"!==t.type&&"text"!==t.type)return;const o="text"===t.type;t.type=o?"password":"text",e.setAttribute("aria-label",o?"Show password":"Hide password"),e.classList.toggle("showing",!o)})})},t.initDrawers=function(e=document){e.querySelectorAll("[data-drawer-open]").forEach(function(t){const o=t.getAttribute("data-drawer-open"),n=e.querySelector(".drawer#"+o);n&&t.addEventListener("click",function(){n.classList.add("open"),document.body.style.overflow="hidden"})}),e.querySelectorAll(".drawer").forEach(function(e){e.querySelectorAll("[data-drawer-close]").forEach(function(t){t.addEventListener("click",function(){e.classList.remove("open"),document.body.style.overflow=""})});const t=e.querySelector(".drawer-backdrop");t&&t.addEventListener("click",function(){e.classList.remove("open"),document.body.style.overflow=""}),document.addEventListener("keydown",function(t){e.classList.contains("open")&&"Escape"===t.key&&(e.classList.remove("open"),document.body.style.overflow="")})})},t.setTheme=function(e){"theme-dark"===e?(document.body.classList.add("theme-dark"),localStorage.setItem("lightpack-theme","theme-dark")):(document.body.classList.remove("theme-dark"),localStorage.removeItem("lightpack-theme"))},t.toggleTheme=function(){document.body.classList.contains("theme-dark")?t.setTheme(""):t.setTheme("theme-dark")},t.initTheme=function(){"theme-dark"===localStorage.getItem("lightpack-theme")?document.body.classList.add("theme-dark"):document.body.classList.remove("theme-dark")},t.initAll=function(e=document){t.initTheme(),t.initTabs(e),t.initAccordions(e),t.initAlerts(e),t.initModals(e),t.initPasswordToggles(e),t.initDrawers(e)},document.addEventListener("DOMContentLoaded",function(){t.initAll()})}(window);