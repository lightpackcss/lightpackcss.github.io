!function(t){const e=t.Lightpack=t.Lightpack||{};e.initTabs=function(t=document){t.querySelectorAll(".tabs-group").forEach(function(t){const e=t.querySelectorAll(".tabs .tab"),o=Array.from(t.children).filter(t=>!t.classList.contains("tabs"));e.forEach((t,n)=>{t.addEventListener("click",function(){e.forEach(t=>t.classList.remove("tab-active")),o.forEach(t=>t.setAttribute("hidden","")),t.classList.add("tab-active"),o[n].removeAttribute("hidden")})})})},e.initAccordions=function(t=document){t.querySelectorAll(".accordion").forEach(function(t){const e=t.querySelectorAll(".accordion-header"),o=t.querySelectorAll(".accordion-panel");e.forEach((t,n)=>{t.addEventListener("click",function(){const c=o[n].classList.contains("open");o.forEach(t=>t.classList.remove("open")),e.forEach(t=>t.classList.remove("open")),c||(o[n].classList.add("open"),t.classList.add("open"))})})})},e.initAlerts=function(t=document){t.addEventListener("click",function(t){if(t.target.classList.contains("alert-close")){const e=t.target.closest(".alert");e&&e.remove()}})};let o=0;const n={"bottom-right":"toast-bottom-right","bottom-left":"toast-bottom-left","top-right":"toast-top-right","top-left":"toast-top-left"};e.showToast=function(t){if(!t||"object"!=typeof t)return;const c=++o,s=t.message||"",a=t.type||"",i=!!t.sticky,r=t.position||"bottom-right",l=function(t){const e="toast-container-"+t;let o=document.getElementById(e);return o||(o=document.createElement("div"),o.id=e,o.className=n[t]||n["bottom-right"],o.setAttribute("aria-live","polite"),document.body.appendChild(o)),o}(r);if(!l)return;const d=document.createElement("div");d.className="toast show"+(a?" toast-"+a:""),d.setAttribute("role","status"),d.setAttribute("data-toast-id",c),d.innerHTML=`\n      <span>${s}</span>\n      <button class="toast-close" title="Close">Ã—</button>\n    `,d.querySelector(".toast-close").onclick=function(){e.removeToast(c,r)},l.appendChild(d),i||(d._timeout=setTimeout(function(){e.removeToast(c,r)},5e3))},e.removeToast=function(t,e){const o=document.getElementById("toast-container-"+(e||"bottom-right")),n=o&&o.querySelector(`[data-toast-id='${t}']`);n&&(n.classList.remove("show"),setTimeout(()=>{n._timeout&&clearTimeout(n._timeout),n.remove(),o&&0===o.children.length&&o.remove()},250))},e.initModals=function(t=document){t.querySelectorAll("[data-modal-open]").forEach(function(e){const o=e.getAttribute("data-modal-open"),n=t.querySelector('.modal-backdrop[data-modal="'+o+'"]');if(!n)return;const c=n.querySelector(".modal");e.addEventListener("click",function(){n.style.display="flex",c&&c.focus(),document.body.style.overflow="hidden"})}),t.querySelectorAll(".modal-backdrop").forEach(function(t){t.querySelector(".modal");const e=t.querySelectorAll("[data-modal-close], .modal-close"),o=t.querySelectorAll("[data-modal-cancel]");function n(){t.style.display="none",document.body.style.overflow=""}e.forEach(t=>t.addEventListener("click",n)),o.forEach(t=>t.addEventListener("click",n)),t.addEventListener("click",function(e){e.target===t&&n()}),document.addEventListener("keydown",function(e){"flex"===t.style.display&&"Escape"===e.key&&n()})})},e.initPasswordToggles=function(t=document){t.querySelectorAll('input[type="password"] + .toggle-password').forEach(function(t){t.addEventListener("click",function(){const e=t.previousElementSibling;if(!e||"password"!==e.type&&"text"!==e.type)return;const o="text"===e.type;e.type=o?"password":"text",t.setAttribute("aria-label",o?"Show password":"Hide password"),t.classList.toggle("showing",!o)})})},e.initDrawers=function(t=document){t.querySelectorAll("[data-drawer-open]").forEach(function(e){const o=e.getAttribute("data-drawer-open"),n=t.querySelector(".drawer#"+o);n&&e.addEventListener("click",function(){n.classList.add("open"),document.body.style.overflow="hidden"})}),t.querySelectorAll(".drawer").forEach(function(t){t.querySelectorAll("[data-drawer-close]").forEach(function(e){e.addEventListener("click",function(){t.classList.remove("open"),document.body.style.overflow=""})});const e=t.querySelector(".drawer-backdrop");e&&e.addEventListener("click",function(){t.classList.remove("open"),document.body.style.overflow=""}),document.addEventListener("keydown",function(e){t.classList.contains("open")&&"Escape"===e.key&&(t.classList.remove("open"),document.body.style.overflow="")})})},e.setTheme=function(t){"theme-dark"===t?(document.body.classList.add("theme-dark"),localStorage.setItem("lightpack-theme","theme-dark")):(document.body.classList.remove("theme-dark"),localStorage.removeItem("lightpack-theme"))},e.toggleTheme=function(){document.body.classList.contains("theme-dark")?e.setTheme(""):e.setTheme("theme-dark")},e.initTheme=function(){"theme-dark"===localStorage.getItem("lightpack-theme")?document.body.classList.add("theme-dark"):document.body.classList.remove("theme-dark")},e.initAll=function(t=document){e.initTheme(),e.initTabs(t),e.initAccordions(t),e.initAlerts(t),e.initModals(t),e.initPasswordToggles(t),e.initDrawers(t)},document.addEventListener("DOMContentLoaded",function(){e.initAll()})}(window);